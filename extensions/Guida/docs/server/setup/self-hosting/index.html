<!DOCTYPE html><html lang="it"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><meta name="color-scheme" content="dark light"><link rel="icon" type="image/png" href="/guida-docs/favicon.png"><title>Documentazione PlanarAlly</title><script defer data-domain="planarally.io" src="https://plausible.io/js/script.js"></script><script type="module" src="/guida-docs/_astro/main.astro_astro_type_script_index_0_lang.DwUysPJS.js"></script><style>*{box-sizing:border-box;margin:0}html{height:100vh}:root{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji;font-size:1rem;--user-font-scale: 1rem - 16px;font-size:clamp(.875rem,.4626rem + 1.0309vw + var(--user-font-scale),1.125rem)}body{color:var(---fg-color);background-color:var(---bg-color);---fg-color: #222;---bg-color: #fff;---bg-header: hsla(0, 0%, 100%, .95)}body.dark-theme{---fg-color: #eee;---bg-color: rgb(9, 26, 40);---bg-header: hsla(207, 63.3%, 9.6%, .95)}@media (prefers-color-scheme: dark){body{---fg-color: #eee;---bg-color: rgb(9, 26, 40);---bg-header: hsla(207, 63.3%, 9.6%, .95)}body.light-theme{---fg-color: #222;---bg-color: #fff;---bg-header: hsla(0, 0%, 100%, .95)}}a{color:var(---fg-color);text-decoration:none}a:hover{cursor:pointer}kbd{background-color:#eee;border-radius:3px;border:1px solid #b4b4b4;box-shadow:0 1px 1px #0003,0 2px #ffffffb3 inset;color:#333;display:inline-block;font-size:.85em;font-weight:700;line-height:1;padding:2px 4px;white-space:nowrap}.current-link[data-astro-cid-5ov73oor]{color:#00835c;font-weight:700;position:relative}.current-link[data-astro-cid-5ov73oor]:after{content:"";position:absolute;top:35px;height:1px;left:50%;transform:translate(-50%);background-color:#00835c;width:100%}header[data-astro-cid-eyihteuk]{position:sticky;top:0;z-index:20;height:90px;padding-left:18.75rem;padding-right:150px;border-bottom:solid 1px rgb(226,236,236);background-color:var(---bg-header);display:flex;justify-content:space-between;align-items:center}@media (max-width: 960px){header[data-astro-cid-eyihteuk]{padding-left:150px}}@media (max-width: 500px){header[data-astro-cid-eyihteuk]{padding:0}}header[data-astro-cid-eyihteuk]>nav[data-astro-cid-eyihteuk]{display:flex;align-items:center}header[data-astro-cid-eyihteuk]>nav[data-astro-cid-eyihteuk]>*{margin:8px}header[data-astro-cid-eyihteuk]>div[data-astro-cid-eyihteuk]{width:100px;display:flex;justify-content:space-around;align-items:center}@media (max-width: 1024px){header[data-astro-cid-eyihteuk]>div[data-astro-cid-eyihteuk]{width:unset;justify-content:flex-end;padding-top:1rem;padding-right:1rem}header[data-astro-cid-eyihteuk]>div[data-astro-cid-eyihteuk]>[data-astro-cid-eyihteuk]{margin-left:5px}}header[data-astro-cid-eyihteuk] #logo[data-astro-cid-eyihteuk]{height:50px;margin-top:10px;margin-bottom:10px;padding:5px;max-width:50px;background:#f1e7d0e1;border-radius:25%}@media (max-width: 500px){header[data-astro-cid-eyihteuk] #logo-text[data-astro-cid-eyihteuk]{display:none}}
.admonition[data-astro-cid-kvna52qi]{margin-bottom:1em;padding:15px 30px 15px 15px}.admonition[data-astro-cid-kvna52qi] p{margin-bottom:0}.admonition[data-astro-cid-kvna52qi]>.header[data-astro-cid-kvna52qi]{display:flex}.admonition[data-astro-cid-kvna52qi]>.header[data-astro-cid-kvna52qi]>.title[data-astro-cid-kvna52qi]{margin-left:5px;margin-top:0;margin-bottom:8px;text-transform:uppercase}.admonition[data-astro-cid-kvna52qi]>.header[data-astro-cid-kvna52qi] svg{display:inline-block;width:20px;height:20px;stroke-width:0}
.admonition.info{background-color:#3498db1a;border-left:8px solid #3498db}.admonition.info>.header>.title{color:#3498db}.admonition.info>.header svg{stroke:#3498db;fill:#3498db}
</style>
<link rel="stylesheet" href="/guida-docs/_astro/assets.BnlQNqk7.css">
<style>.admonition.warning{background-color:#e74c3c1a;border-left:8px solid #e74c3c}.admonition.warning>.header>.title{color:#e74c3c}.admonition.warning>.header svg{stroke:#e74c3c;fill:#e74c3c}
#hamburger{position:fixed;z-index:20;padding:1.5rem;margin:.5rem;display:flex;align-items:center;background-color:var(---bg-color)}@media (min-width: 960px){#hamburger{display:none}}#hamburger *{pointer-events:none}#hamburger #text{margin-left:.75rem}
</style></head> <body> <script>
            const currentTheme = localStorage.getItem("theme");
            if (currentTheme === "dark") {
                document.body.classList.toggle("dark-theme");
            } else if (currentTheme === "light") {
                document.body.classList.toggle("light-theme");
            }
        </script> <header data-astro-cid-eyihteuk> <nav data-astro-cid-eyihteuk> <a href="/guida-docs/" data-astro-cid-eyihteuk><img id="logo" src="/guida-docs/logos/pa-logo-small.svg" style="max-width: 50px" data-no-zoom data-astro-cid-eyihteuk></a> <a id="logo-text" href="/guida-docs/" data-astro-cid-eyihteuk>PlanarAlly</a> <a href="/guida-docs/docs/" class data-astro-cid-5ov73oor> Docs </a>  <a href="/guida-docs/learn/" class data-astro-cid-5ov73oor> Impara </a>  <a href="/guida-docs/server/" class data-astro-cid-5ov73oor> Server </a>  <div style="flex-grow: 1" data-astro-cid-eyihteuk></div> </nav> <div data-astro-cid-eyihteuk> <!-- search --> <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).only=e;window.dispatchEvent(new Event("astro:only"));})();</script><script>(()=>{var A=Object.defineProperty;var g=(i,o,a)=>o in i?A(i,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[o]=a;var d=(i,o,a)=>g(i,typeof o!="symbol"?o+"":o,a);{let i={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t),11:t=>1/0*t},o=t=>{let[l,e]=t;return l in i?i[l](e):void 0},a=t=>t.map(o),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([l,e])=>[l,o(e)]));class y extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var b;if(!this.hydrator||!this.isConnected)return;let e=(b=this.parentElement)==null?void 0:b.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let c=this.querySelectorAll("astro-slot"),n={},h=this.querySelectorAll("template[data-astro-template]");for(let r of h){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(let r of c){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("name")||"default"]=r.innerHTML)}let p;try{p=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(r){let s=this.getAttribute("component-url")||"<unknown>",v=this.getAttribute("component-export");throw v&&(s+=` (export ${v})`),console.error(`[hydrate] Error parsing props for component ${s}`,this.getAttribute("props"),r),r}let u;await this.hydrator(this)(this.Component,p,n,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),c.disconnect(),this.childrenConnectedCallback()},c=new MutationObserver(()=>{var n;((n=this.lastChild)==null?void 0:n.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});c.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),c=this.getAttribute("client");if(Astro[c]===void 0){window.addEventListener(`astro:${c}`,()=>this.start(),{once:!0});return}try{await Astro[c](async()=>{let n=this.getAttribute("renderer-url"),[h,{default:p}]=await Promise.all([import(this.getAttribute("component-url")),n?import(n):()=>()=>{}]),u=this.getAttribute("component-export")||"default";if(!u.includes("."))this.Component=h[u];else{this.Component=h;for(let f of u.split("."))this.Component=this.Component[f]}return this.hydrator=p,this.hydrate},e,this)}catch(n){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,n)}}attributeChangedCallback(){this.hydrate()}}d(y,"observedAttributes",["props"]),customElements.get("astro-island")||customElements.define("astro-island",y)}})();</script><astro-island uid="YNn5b" component-url="/guida-docs/_astro/ThemeSwitcher.wjNpNXWS.js" component-export="default" renderer-url="/guida-docs/_astro/client.28a_ayjm.js" props="{&quot;data-astro-cid-eyihteuk&quot;:[0,true]}" ssr client="only" opts="{&quot;name&quot;:&quot;ThemeSwitcher&quot;,&quot;value&quot;:&quot;vue&quot;}"></astro-island> <a aria-label="discord" href="//discord.gg/mubGnTe" rel="noopener noreferrer" target="_blank" title="Unisciti a noi su Discord" data-astro-cid-eyihteuk> <svg viewBox="0 0 640 512" width="1.5em" height="1.2em" data-astro-cid-eyihteuk="true"><path fill="currentColor" d="M524.531 69.836a1.5 1.5 0 0 0-.764-.7A485 485 0 0 0 404.081 32.03a1.82 1.82 0 0 0-1.923.91a338 338 0 0 0-14.9 30.6a447.9 447.9 0 0 0-134.426 0a310 310 0 0 0-15.135-30.6a1.89 1.89 0 0 0-1.924-.91a483.7 483.7 0 0 0-119.688 37.107a1.7 1.7 0 0 0-.788.676C39.068 183.651 18.186 294.69 28.43 404.354a2.02 2.02 0 0 0 .765 1.375a487.7 487.7 0 0 0 146.825 74.189a1.9 1.9 0 0 0 2.063-.676A348 348 0 0 0 208.12 430.4a1.86 1.86 0 0 0-1.019-2.588a321 321 0 0 1-45.868-21.853a1.885 1.885 0 0 1-.185-3.126a251 251 0 0 0 9.109-7.137a1.82 1.82 0 0 1 1.9-.256c96.229 43.917 200.41 43.917 295.5 0a1.81 1.81 0 0 1 1.924.233a235 235 0 0 0 9.132 7.16a1.884 1.884 0 0 1-.162 3.126a301.4 301.4 0 0 1-45.89 21.83a1.875 1.875 0 0 0-1 2.611a391 391 0 0 0 30.014 48.815a1.86 1.86 0 0 0 2.063.7A486 486 0 0 0 610.7 405.729a1.88 1.88 0 0 0 .765-1.352c12.264-126.783-20.532-236.912-86.934-334.541M222.491 337.58c-28.972 0-52.844-26.587-52.844-59.239s23.409-59.241 52.844-59.241c29.665 0 53.306 26.82 52.843 59.239c0 32.654-23.41 59.241-52.843 59.241m195.38 0c-28.971 0-52.843-26.587-52.843-59.239s23.409-59.241 52.843-59.241c29.667 0 53.307 26.82 52.844 59.239c0 32.654-23.177 59.241-52.844 59.241"></path></svg> </a> <a aria-label="github" href="//github.com/Kruptein/planarally" rel="noopener noreferrer" target="_blank" title="PlanarAlly @ GitHub" data-astro-cid-eyihteuk> <svg viewBox="0 0 496 512" width="1.17em" height="1.2em" data-astro-cid-eyihteuk="true"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6c-3.3.3-5.6-1.3-5.6-3.6c0-2 2.3-3.6 5.2-3.6c3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9c2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9c.3 2 2.9 3.3 5.9 2.6c2.9-.7 4.9-2.6 4.6-4.6c-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2c12.8 2.3 17.3-5.6 17.3-12.1c0-6.2-.3-40.4-.3-61.4c0 0-70 15-84.7-29.8c0 0-11.4-29.1-27.8-36.6c0 0-22.9-15.7 1.6-15.4c0 0 24.9 2 38.6 25.8c21.9 38.6 58.6 27.5 72.9 20.9c2.3-16 8.8-27.1 16-33.7c-55.9-6.2-112.3-14.3-112.3-110.5c0-27.5 7.6-41.3 23.6-58.9c-2.6-6.5-11.1-33.3 2.6-67.9c20.9-6.5 69 27 69 27c20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27c13.7 34.7 5.2 61.4 2.6 67.9c16 17.7 25.8 31.5 25.8 58.9c0 96.5-58.9 104.2-114.8 110.5c9.2 7.9 17 22.9 17 46.4c0 33.7-.3 75.4-.3 83.6c0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252C496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2c1.6 1.6 3.9 2.3 5.2 1c1.3-1 1-3.3-.7-5.2c-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9c1.6 1 3.6.7 4.3-.7c.7-1.3-.3-2.9-2.3-3.9c-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2c2.3 2.3 5.2 2.6 6.5 1c1.3-1.3.7-4.3-1.3-6.2c-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2c-1.4-2.3-4-3.3-5.6-2"></path></svg> </a> </div> </header>   <astro-island uid="Z1Bwgxl" component-url="/guida-docs/_astro/HamburgerMenu.DG1aK2d8.js" component-export="default" renderer-url="/guida-docs/_astro/client.28a_ayjm.js" props="{&quot;element&quot;:[0,&quot;docs-nav&quot;],&quot;toggleClass&quot;:[0,&quot;open&quot;],&quot;data-astro-cid-ujtbphqs&quot;:[0,true]}" ssr client="only" opts="{&quot;name&quot;:&quot;HamburgerMenu&quot;,&quot;value&quot;:&quot;vue&quot;}"></astro-island> <nav id="docs-nav" data-astro-cid-ujtbphqs> <span class="depth-1" data-astro-cid-ujtbphqs>Installazione</span><a href="/guida-docs/server/setup/" class="depth-2" data-astro-cid-ujtbphqs> Avvio </a><a href="/guida-docs/server/setup/self-hosting/" class="depth-2" data-astro-cid-ujtbphqs> Self-hosted </a><a href="/guida-docs/server/setup/managed/" class="depth-2" data-astro-cid-ujtbphqs> Gestito </a><span class="depth-1" data-astro-cid-ujtbphqs>Gestione</span><a href="/guida-docs/server/management/configuration/" class="depth-2" data-astro-cid-ujtbphqs> Configurazione </a><a href="/guida-docs/server/management/users/" class="depth-2" data-astro-cid-ujtbphqs> Gestione utenti </a><span class="depth-1" data-astro-cid-ujtbphqs>Avanzato</span><a href="/guida-docs/server/advanced/proxy/" class="depth-2" data-astro-cid-ujtbphqs> Proxy inverso </a><a href="/guida-docs/server/advanced/subpath/" class="depth-2" data-astro-cid-ujtbphqs> Subpath </a> </nav> <div id="container" data-astro-cid-ujtbphqs> <main style data-astro-cid-ujtbphqs> <h1 id="self-hosting"><a aria-hidden="true" tabindex="-1" href="#self-hosting">#</a>Self-hosting</h1>
<h2 id="informazioni-generali"><a aria-hidden="true" tabindex="-1" href="#informazioni-generali">#</a>Informazioni generali</h2>
<p>Hostare PlanarAlly in autonomia richiede una configurazione un po’ più complessa rispetto all’uso di un servizio già esistente, ma ti garantisce maggiore controllo e la possibilità di far funzionare tutto anche offline.</p>
<p>Per hostare PlanarAlly in autonomia hai quattro opzioni:</p>
<ul>
<li>Compilare il client manualmente e avviare il server</li>
<li>Eseguire il server con un client pre-compilato</li>
<li>Usare un container Docker</li>
<li>Usare un eseguibile precompilato</li>
</ul>
<p>Le prime due richiedono l’installazione manuale di alcuni componenti (es. Python, dipendenze, ecc.).<br/>
Docker ti permette di saltare gran parte del lavoro manuale, ma richiede familiarità con i container e i volumi.</p>
<p>Infine è disponibile un file .exe per chi non è molto esperto. Dovrebbe funzionare, ma è meno testato.</p>
<h3 id="versioni"><a aria-hidden="true" tabindex="-1" href="#versioni">#</a>Versioni</h3>
<p>A seconda dell’opzione scelta puoi decidere quale versione di PA utilizzare.</p>
<p>Per le versioni di produzione trovi le release ufficiali <a href="https://github.com/Kruptein/PlanarAlly/releases">qui</a>.<br/>
Per una versione di sviluppo puoi fare checkout di qualsiasi commit/branch git e compilare manualmente.<br/>
Per tutte le release e per il branch di sviluppo, le immagini Docker vengono pubblicate automaticamente su <a href="https://hub.docker.com/r/kruptein/planarally/tags">Docker Hub</a>.</p>
<h3 id="backup-e-aggiornamenti"><a aria-hidden="true" tabindex="-1" href="#backup-e-aggiornamenti">#</a>Backup e aggiornamenti</h3>
<p>Per il backup dei dati sono importanti tre cartelle (relative alla cartella del server):</p>
<ul>
<li>data</li>
<li>static/assets</li>
<li>static/mods</li>
</ul>
<p>Se hai modificato la config (<code>data/config.toml</code>) potrebbero essere necessari il backup di altre cartelle o file.</p>
<p>In fase di aggiornamento di PA può avvenire una migrazione del file di salvataggio (percorso predefinito <code>data/planar.sqlite</code>). Verrà creata una copia di backup del file di salvataggio attuale nella cartella <code>save_backups</code>.</p>
<div class="admonition info" data-astro-cid-kvna52qi> <div class="header" data-astro-cid-kvna52qi> <div> <svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg> </div> <div class="title" data-astro-cid-kvna52qi>Informazione</div> </div>   <p>Se installi PA usando uno degli zip/tarball di release (ad es. estrai una cartella da qualche parte), è generalmente consigliato estrarre in una nuova posizione e spostare/copiare le 3 cartelle dati indicate sopra.</p><br/><p>Estrazione sopra l’installazione esistente di solito funziona, ma a volte può causare bug subdoli quando un file è stato rimosso nel codebase ma non verrà rimosso sovrascrivendo.</p><br/><p>Questo non vale quando usi git/docker.</p>  </div>  
<h3 id="configurazione"><a aria-hidden="true" tabindex="-1" href="#configurazione">#</a>Configurazione</h3>
<p>È normale non trovare un file di configurazione. PA usa valori predefiniti memorizzati internamente.
Per sovrascrivere alcune di queste opzioni puoi creare un file <code>config.toml</code> nella cartella <code>data</code> del server per modificare la configurazione.</p>
<p>Vedi la <a href="/guida-docs/server/management/configuration/">documentazione sulla config</a> per i dettagli.</p>
<p>Di default PA gira sulla porta 8000, quindi se tutto è andato a buon fine indipendentemente dall’opzione scelta dovresti poter accedere a PA su <a href="http://localhost:8000">http://localhost:8000</a></p>
<h2 id="installazione-completamente-manuale"><a aria-hidden="true" tabindex="-1" href="#installazione-completamente-manuale">#</a>Installazione completamente manuale</h2>
<p>PA è composto da due parti:</p>
<ul>
<li>un server scritto in Python</li>
<li>un frontend scritto in TypeScript</li>
</ul>
<p>Anche se dovrai sempre eseguire il server per usare PA, devi ricompilare il client solo se scarichi/modifichi la versione di PA.</p>
<h3 id="frontend"><a aria-hidden="true" tabindex="-1" href="#frontend">#</a>Frontend</h3>
<p>Per compilare il frontend ti servono <code>node</code> e <code>npm</code> installati. Al momento della stesura è richiesta almeno la versione 22 di Node.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D"># Devi essere nella cartella client per far funzionare il client!</span></span>
<span class="line"><span style="color:#79B8FF">cd</span><span style="color:#9ECBFF"> client</span></span>
<span class="line"><span style="color:#6A737D"># Aggiorna le dipendenze, una nuova versione di solito porta nuove dipendenze</span></span>
<span class="line"><span style="color:#B392F0">npm</span><span style="color:#9ECBFF"> i</span></span>
<span class="line"><span style="color:#6A737D"># Compila per il server</span></span>
<span class="line"><span style="color:#B392F0">npm</span><span style="color:#9ECBFF"> run</span><span style="color:#9ECBFF"> build</span></span></code></pre>
<p>Questo convertirà i file TypeScript in alcuni file JavaScript minificati e li metterà nella cartella static del server, così che il server possa essere avviato.</p>
<p>Tutto qui!</p>
<h3 id="backend"><a aria-hidden="true" tabindex="-1" href="#backend">#</a>Backend</h3>
<p>Serve una versione recente di Python per eseguire PA. La versione minima è la 3.11, ma è testato ufficialmente con la 3.13.</p>
<p>Puoi usare qualsiasi metodo per installare Python, ma la via consigliata è tramite <a href="https://docs.astral.sh/uv/getting-started/installation/">uv</a>.
Questo separerà in modo pulito le installazioni Python ed è anche molto veloce. In più PA stesso usa uv per la gestione delle dipendenze.</p>
<div class="admonition info" data-astro-cid-kvna52qi> <div class="header" data-astro-cid-kvna52qi> <div> <svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg> </div> <div class="title" data-astro-cid-kvna52qi>Dipendenze senza uv</div> </div>   <p>Se non vuoi o non puoi usare uv, nota che nel repository non esiste un file <code>requirements.txt</code>.
PA usa il moderno file <code>pyproject.toml</code> che uv (e altri strumenti) comprendono.</p><p>Questo significa che non puoi fare il tradizionale <code>pip install -r requirements.txt</code>. Puoi trovare l’elenco delle dipendenze da installare nel file <code>pyproject.toml</code> citato.</p>  </div>  
<p>Le istruzioni seguenti assumono l’uso di uv; adatta i comandi se usi un altro approccio.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D"># 1. Installa Python (puoi saltare se ce l&#39;hai già)</span></span>
<span class="line"><span style="color:#B392F0">uv</span><span style="color:#9ECBFF"> python</span><span style="color:#9ECBFF"> install</span><span style="color:#79B8FF"> 3.13</span></span>
<span class="line"><span style="color:#6A737D"># 2. Vai nella cartella server!</span></span>
<span class="line"><span style="color:#6A737D"># (se sei ancora nella cartella client usa `cd ../server`!)</span></span>
<span class="line"><span style="color:#79B8FF">cd</span><span style="color:#9ECBFF"> server</span></span>
<span class="line"><span style="color:#6A737D"># 3. Crea un ambiente virtuale per l&#39;installazione Python</span></span>
<span class="line"><span style="color:#B392F0">uv</span><span style="color:#9ECBFF"> venv</span></span>
<span class="line"><span style="color:#6A737D"># 4. Installa le dipendenze</span></span>
<span class="line"><span style="color:#B392F0">uv</span><span style="color:#9ECBFF"> sync</span></span>
<span class="line"><span style="color:#6A737D"># 5. Avvia PA</span></span>
<span class="line"><span style="color:#B392F0">uv</span><span style="color:#9ECBFF"> run</span><span style="color:#9ECBFF"> planarally.py</span></span></code></pre>
<p>Per avviare/(ri)avviare il server in futuro ti basta eseguire il passo 5.
Se hai cambiato versione di PA devi rieseguire anche il passo 4.</p>
<h2 id="client-pre-compilato"><a aria-hidden="true" tabindex="-1" href="#client-pre-compilato">#</a>Client pre-compilato</h2>
<p>Se vuoi gestire l’installazione del server ma non vuoi occuparti della compilazione del client puoi usare i file del client pre-compilato.
Sono disponibili come file <code>Planarally-bin</code> nelle release.</p>
<p>Contengono solo la cartella server; puoi seguire gli stessi passi dell’installazione manuale sopra saltando tutto quanto riguarda frontend/client.</p>
<h2 id="container-docker"><a aria-hidden="true" tabindex="-1" href="#container-docker">#</a>Container Docker</h2>
<h3 id="vanilla"><a aria-hidden="true" tabindex="-1" href="#vanilla">#</a>Vanilla</h3>
<p>Puoi scaricare il <a href="https://hub.docker.com/r/kruptein/planarally">Container ufficiale</a> con questo comando.<br/>
<code>docker pull kruptein/planarally</code></p>
<p>Ci sono 3 volumi da montare per avere persistenza dei dati:</p>
<ul>
<li>data: dove di solito sono memorizzati la configurazione e il file di salvataggio</li>
<li>assets: dove sono memorizzati gli asset caricati dagli utenti</li>
<li>mods: volume opzionale, richiesto solo se permetti/usare mod sul server.</li>
</ul>
<p>È consigliato creare volumi espliciti con <code>docker volume create</code> (vedi <a href="https://docs.docker.com/storage/volumes/">https://docs.docker.com/storage/volumes/</a>)</p>
<p>PA gira come utente limitato nel container Docker; devi cambiare la proprietà dei volumi creati per corrispondere:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="plaintext"><code><span class="line"><span>cd /var/lib/docker/volumes</span></span>
<span class="line"><span>sudo chown -R 9000:9000 data/</span></span>
<span class="line"><span># ripeti per gli altri volumi</span></span></code></pre>
<p>Con i volumi configurati sei pronto per eseguire il container.</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="plaintext"><code><span class="line"><span># PA gira sulla porta 8000. Puoi omettere il volume mods se non intendi usarlo o permetterlo</span></span>
<span class="line"><span># È generalmente consigliato specificare un tag particolare dell&#39;immagine Docker (es. v2025.2.2) invece di usare latest</span></span>
<span class="line"><span># Le nuove versioni possono includere migrazioni del database e richiedere interventi manuali che conviene fare quando hai tempo</span></span>
<span class="line"><span>docker run -d -t -p 8000:8000 -v data:/planarally/data/ -v assets:/planarally/static/assets/ -v mods:/planarally/static/mods --name planarally kruptein/planarally</span></span></code></pre>
<h3 id="docker-compose"><a aria-hidden="true" tabindex="-1" href="#docker-compose">#</a>Docker Compose</h3>
<p>Al momento non esiste un file docker-compose ufficiale, ma un membro della community ha scritto <a href="https://github.com/edmael/selfhosted-planarally">questa guida</a> su docker-compose, SSL e nginx.</p>
<p>C’è anche un file compose incluso in un esempio per il reverse proxy Traefik, che trovi <a href="/guida-docs/server/advanced/proxy/#traefik">qui</a>.</p>
<h2 id="eseguibile-precompilato"><a aria-hidden="true" tabindex="-1" href="#eseguibile-precompilato">#</a>Eseguibile precompilato</h2>
<p><em>Nota: i numeri di versione che fanno parte dei nomi dei file delle release sono omessi in questo tutorial.</em></p>
<p>Per eseguire PlanarAlly su Windows, scarica il file <code>planarally-windows.zip</code> dalla pagina delle release ed estrailo in una nuova cartella.</p>
<p>Questa cartella contiene molti file diversi; quello importante per te ora è <code>planarally.exe</code>.
Eseguendo questo file apparirà un prompt dei comandi (schermata nera con testo).</p>
<div class="admonition warning" data-astro-cid-kvna52qi> <div class="header" data-astro-cid-kvna52qi> <div> <svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg> </div> <div class="title" data-astro-cid-kvna52qi>Attenzione</div> </div>   <p>È giusto diffidare di eseguibili casuali su internet. Questi file <code>.exe</code> sono generati con Nuitka dal
codice sorgente Python in un ambiente CI isolato.</p><p>Ciononostante può capitare che un antivirus dia falsi positivi per vari motivi.</p>  </div>  
<h2 id="sviluppo"><a aria-hidden="true" tabindex="-1" href="#sviluppo">#</a>Sviluppo</h2>
<p>Puoi configurare client e server per girare in una modalità di sviluppo speciale. In questo modo il frontend viene ricaricato in automatico (cioè le modifiche vengono applicate subito senza ricompilare).</p>
<p>Questo richiede che il server venga avviato con l’argomento aggiuntivo ‘dev’:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">uv</span><span style="color:#9ECBFF"> run</span><span style="color:#9ECBFF"> planarally.py</span><span style="color:#9ECBFF"> dev</span></span></code></pre>
<p>In più serve un processo separato che gestisce il hot-reload del client:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8;overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6A737D"># nella cartella client</span></span>
<span class="line"><span style="color:#B392F0">npm</span><span style="color:#9ECBFF"> run</span><span style="color:#9ECBFF"> dev</span></span></code></pre>
<p>Nota: anche se l’output del client menzionerà una porta, usa semplicemente la porta del server come faresti per l’uso normale di PA.</p> </main> </div> <aside id="doc-headers" style data-astro-cid-ujtbphqs> <a href="#self-hosting" class="depth-1" data-astro-cid-ujtbphqs> Self-hosting </a><a href="#informazioni-generali" class="depth-2" data-astro-cid-ujtbphqs> Informazioni generali </a><a href="#versioni" class="depth-3" data-astro-cid-ujtbphqs> Versioni </a><a href="#backup-e-aggiornamenti" class="depth-3" data-astro-cid-ujtbphqs> Backup e aggiornamenti </a><a href="#configurazione" class="depth-3" data-astro-cid-ujtbphqs> Configurazione </a><a href="#installazione-completamente-manuale" class="depth-2" data-astro-cid-ujtbphqs> Installazione completamente manuale </a><a href="#frontend" class="depth-3" data-astro-cid-ujtbphqs> Frontend </a><a href="#backend" class="depth-3" data-astro-cid-ujtbphqs> Backend </a><a href="#client-pre-compilato" class="depth-2" data-astro-cid-ujtbphqs> Client pre-compilato </a><a href="#container-docker" class="depth-2" data-astro-cid-ujtbphqs> Container Docker </a><a href="#vanilla" class="depth-3" data-astro-cid-ujtbphqs> Vanilla </a><a href="#docker-compose" class="depth-3" data-astro-cid-ujtbphqs> Docker Compose </a><a href="#eseguibile-precompilato" class="depth-2" data-astro-cid-ujtbphqs> Eseguibile precompilato </a><a href="#sviluppo" class="depth-2" data-astro-cid-ujtbphqs> Sviluppo </a> </aside>  </body></html> 