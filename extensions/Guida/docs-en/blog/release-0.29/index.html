<!DOCTYPE html><html lang="en"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><meta name="color-scheme" content="dark light"><link rel="icon" type="image/png" href="/guida-docs-en/favicon.png"><title>PlanarAlly Documentation</title><script defer data-domain="planarally.io" src="https://plausible.io/js/script.js"></script><script type="module" src="/guida-docs-en/_astro/main.astro_astro_type_script_index_0_lang.DwUysPJS.js"></script><style>*{box-sizing:border-box;margin:0}html{height:100vh}:root{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji;font-size:1rem;--user-font-scale: 1rem - 16px;font-size:clamp(.875rem,.4626rem + 1.0309vw + var(--user-font-scale),1.125rem)}body{color:var(---fg-color);background-color:var(---bg-color);---fg-color: #222;---bg-color: #fff;---bg-header: hsla(0, 0%, 100%, .95)}body.dark-theme{---fg-color: #eee;---bg-color: rgb(9, 26, 40);---bg-header: hsla(207, 63.3%, 9.6%, .95)}@media (prefers-color-scheme: dark){body{---fg-color: #eee;---bg-color: rgb(9, 26, 40);---bg-header: hsla(207, 63.3%, 9.6%, .95)}body.light-theme{---fg-color: #222;---bg-color: #fff;---bg-header: hsla(0, 0%, 100%, .95)}}a{color:var(---fg-color);text-decoration:none}a:hover{cursor:pointer}kbd{background-color:#eee;border-radius:3px;border:1px solid #b4b4b4;box-shadow:0 1px 1px #0003,0 2px #ffffffb3 inset;color:#333;display:inline-block;font-size:.85em;font-weight:700;line-height:1;padding:2px 4px;white-space:nowrap}.current-link[data-astro-cid-5ov73oor]{color:#00835c;font-weight:700;position:relative}.current-link[data-astro-cid-5ov73oor]:after{content:"";position:absolute;top:35px;height:1px;left:50%;transform:translate(-50%);background-color:#00835c;width:100%}header[data-astro-cid-eyihteuk]{position:sticky;top:0;z-index:20;height:90px;padding-left:18.75rem;padding-right:150px;border-bottom:solid 1px rgb(226,236,236);background-color:var(---bg-header);display:flex;justify-content:space-between;align-items:center}@media (max-width: 960px){header[data-astro-cid-eyihteuk]{padding-left:150px}}@media (max-width: 500px){header[data-astro-cid-eyihteuk]{padding:0}}header[data-astro-cid-eyihteuk]>nav[data-astro-cid-eyihteuk]{display:flex;align-items:center}header[data-astro-cid-eyihteuk]>nav[data-astro-cid-eyihteuk]>*{margin:8px}header[data-astro-cid-eyihteuk]>div[data-astro-cid-eyihteuk]{width:100px;display:flex;justify-content:space-around;align-items:center}@media (max-width: 1024px){header[data-astro-cid-eyihteuk]>div[data-astro-cid-eyihteuk]{width:unset;justify-content:flex-end;padding-top:1rem;padding-right:1rem}header[data-astro-cid-eyihteuk]>div[data-astro-cid-eyihteuk]>[data-astro-cid-eyihteuk]{margin-left:5px}}header[data-astro-cid-eyihteuk] #logo[data-astro-cid-eyihteuk]{height:50px;margin-top:10px;margin-bottom:10px;padding:5px;max-width:50px;background:#f1e7d0e1;border-radius:25%}@media (max-width: 500px){header[data-astro-cid-eyihteuk] #logo-text[data-astro-cid-eyihteuk]{display:none}}
#container[data-astro-cid-6zxym2zu]{display:flex;flex-direction:column;align-items:center}aside[data-astro-cid-6zxym2zu]{position:fixed;top:90px;bottom:0;visibility:hidden;display:flex;flex-direction:column;width:18.75rem;padding-left:2rem;border-right:solid 1px rgb(226,236,236);overflow-y:auto;overflow-x:hidden;opacity:0;transform:translate(-100%);transition:opacity .5s,transform .25s ease}aside[data-astro-cid-6zxym2zu].open{padding-top:4rem;visibility:visible;opacity:1;transform:translate(0);z-index:1;background-color:var(---bg-color)}@media (min-width: 960px){aside[data-astro-cid-6zxym2zu]{visibility:visible;opacity:1;transform:translate(0)}}@media (min-width: 1280px){aside[data-astro-cid-6zxym2zu]{padding-left:max(2rem,50vw - 18.75rem - 100px - 500px);width:max(18.75rem,50vw - 100px - 500px)}}aside[data-astro-cid-6zxym2zu]::-webkit-scrollbar{width:5px}aside[data-astro-cid-6zxym2zu]:hover::-webkit-scrollbar-thumb,aside[data-astro-cid-6zxym2zu]::-webkit-scrollbar-thumb:hover{background-color:#e2ecec}aside[data-astro-cid-6zxym2zu]>a[data-astro-cid-6zxym2zu]{padding:3px 0}aside[data-astro-cid-6zxym2zu] .depth-1[data-astro-cid-6zxym2zu],aside[data-astro-cid-6zxym2zu] .depth-2[data-astro-cid-6zxym2zu]{border-top:solid 1px rgb(226,236,236);margin-top:10px;padding-top:10px;font-weight:700}aside[data-astro-cid-6zxym2zu] .depth-1[data-astro-cid-6zxym2zu]:first-of-type,aside[data-astro-cid-6zxym2zu] .depth-2[data-astro-cid-6zxym2zu]:first-of-type{border-top:0}aside[data-astro-cid-6zxym2zu] .depth-4[data-astro-cid-6zxym2zu]{text-indent:1rem}main[data-astro-cid-6zxym2zu]{margin-left:0;padding:50px 100px}@media (max-width: 500px){main[data-astro-cid-6zxym2zu]{padding:50px 25px}}@media (min-width: 960px){main[data-astro-cid-6zxym2zu]{margin-left:18.75rem}}@media (min-width: 1280px){main[data-astro-cid-6zxym2zu]{max-width:1000px}}main[data-astro-cid-6zxym2zu] #title[data-astro-cid-6zxym2zu],main[data-astro-cid-6zxym2zu] #author[data-astro-cid-6zxym2zu]{text-align:center}main[data-astro-cid-6zxym2zu] #author[data-astro-cid-6zxym2zu]{font-size:small}main[data-astro-cid-6zxym2zu] h1,main[data-astro-cid-6zxym2zu] p,main[data-astro-cid-6zxym2zu] ul,main[data-astro-cid-6zxym2zu] ol{margin-bottom:1.5rem}main[data-astro-cid-6zxym2zu] li>ul{margin-bottom:0}main[data-astro-cid-6zxym2zu] a{color:green;font-weight:700}main[data-astro-cid-6zxym2zu] img{height:auto;max-width:100%;object-fit:contain;margin-bottom:1rem}main[data-astro-cid-6zxym2zu] pre{padding:1rem;max-width:680px;margin-bottom:1rem}main[data-astro-cid-6zxym2zu] h2,main[data-astro-cid-6zxym2zu] h3,main[data-astro-cid-6zxym2zu] h4,main[data-astro-cid-6zxym2zu] h5,main[data-astro-cid-6zxym2zu] h6{margin-bottom:1.5rem;scroll-margin-top:135px;position:relative}main[data-astro-cid-6zxym2zu] h2>a[aria-hidden=true],main[data-astro-cid-6zxym2zu] h3>a[aria-hidden=true],main[data-astro-cid-6zxym2zu] h4>a[aria-hidden=true],main[data-astro-cid-6zxym2zu] h5>a[aria-hidden=true],main[data-astro-cid-6zxym2zu] h6>a[aria-hidden=true]{visibility:hidden;padding-right:20px;color:green}main[data-astro-cid-6zxym2zu] h2:hover>a[aria-hidden=true],main[data-astro-cid-6zxym2zu] h3:hover>a[aria-hidden=true],main[data-astro-cid-6zxym2zu] h4:hover>a[aria-hidden=true],main[data-astro-cid-6zxym2zu] h5:hover>a[aria-hidden=true],main[data-astro-cid-6zxym2zu] h6:hover>a[aria-hidden=true]{visibility:visible}
#hamburger{position:fixed;z-index:20;padding:1.5rem;margin:.5rem;display:flex;align-items:center;background-color:var(---bg-color)}@media (min-width: 960px){#hamburger{display:none}}#hamburger *{pointer-events:none}#hamburger #text{margin-left:.75rem}
</style></head> <body> <script>
            const currentTheme = localStorage.getItem("theme");
            if (currentTheme === "dark") {
                document.body.classList.toggle("dark-theme");
            } else if (currentTheme === "light") {
                document.body.classList.toggle("light-theme");
            }
        </script> <header data-astro-cid-eyihteuk> <nav data-astro-cid-eyihteuk> <a href="/guida-docs-en/" data-astro-cid-eyihteuk><img id="logo" src="/guida-docs-en/logos/pa-logo-small.svg" style="max-width: 50px" data-no-zoom data-astro-cid-eyihteuk></a> <a id="logo-text" href="/guida-docs-en/" data-astro-cid-eyihteuk>PlanarAlly</a> <a href="/guida-docs-en/docs/" class data-astro-cid-5ov73oor> Docs </a>  <a href="/guida-docs-en/learn/" class data-astro-cid-5ov73oor> Learn </a>  <a href="/guida-docs-en/server/" class data-astro-cid-5ov73oor> Server </a>  <a href="/guida-docs-en/blog/" class data-astro-cid-5ov73oor> Blog </a>  <div style="flex-grow: 1" data-astro-cid-eyihteuk></div> </nav> <div data-astro-cid-eyihteuk> <!-- search --> <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).only=e;window.dispatchEvent(new Event("astro:only"));})();</script><script>(()=>{var A=Object.defineProperty;var g=(i,o,a)=>o in i?A(i,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[o]=a;var d=(i,o,a)=>g(i,typeof o!="symbol"?o+"":o,a);{let i={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t),11:t=>1/0*t},o=t=>{let[l,e]=t;return l in i?i[l](e):void 0},a=t=>t.map(o),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([l,e])=>[l,o(e)]));class y extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var b;if(!this.hydrator||!this.isConnected)return;let e=(b=this.parentElement)==null?void 0:b.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let c=this.querySelectorAll("astro-slot"),n={},h=this.querySelectorAll("template[data-astro-template]");for(let r of h){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(let r of c){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("name")||"default"]=r.innerHTML)}let p;try{p=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(r){let s=this.getAttribute("component-url")||"<unknown>",v=this.getAttribute("component-export");throw v&&(s+=` (export ${v})`),console.error(`[hydrate] Error parsing props for component ${s}`,this.getAttribute("props"),r),r}let u;await this.hydrator(this)(this.Component,p,n,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),c.disconnect(),this.childrenConnectedCallback()},c=new MutationObserver(()=>{var n;((n=this.lastChild)==null?void 0:n.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});c.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),c=this.getAttribute("client");if(Astro[c]===void 0){window.addEventListener(`astro:${c}`,()=>this.start(),{once:!0});return}try{await Astro[c](async()=>{let n=this.getAttribute("renderer-url"),[h,{default:p}]=await Promise.all([import(this.getAttribute("component-url")),n?import(n):()=>()=>{}]),u=this.getAttribute("component-export")||"default";if(!u.includes("."))this.Component=h[u];else{this.Component=h;for(let f of u.split("."))this.Component=this.Component[f]}return this.hydrator=p,this.hydrate},e,this)}catch(n){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,n)}}attributeChangedCallback(){this.hydrate()}}d(y,"observedAttributes",["props"]),customElements.get("astro-island")||customElements.define("astro-island",y)}})();</script><astro-island uid="njDnP" component-url="/guida-docs-en/_astro/ThemeSwitcher.wjNpNXWS.js" component-export="default" renderer-url="/guida-docs-en/_astro/client.28a_ayjm.js" props="{&quot;data-astro-cid-eyihteuk&quot;:[0,true]}" ssr client="only" opts="{&quot;name&quot;:&quot;ThemeSwitcher&quot;,&quot;value&quot;:&quot;vue&quot;}"></astro-island> <a aria-label="discord" href="//discord.gg/mubGnTe" rel="noopener noreferrer" target="_blank" title="Join us on Discord" data-astro-cid-eyihteuk> <svg viewBox="0 0 640 512" width="1.5em" height="1.2em" data-astro-cid-eyihteuk="true"><path fill="currentColor" d="M524.531 69.836a1.5 1.5 0 0 0-.764-.7A485 485 0 0 0 404.081 32.03a1.82 1.82 0 0 0-1.923.91a338 338 0 0 0-14.9 30.6a447.9 447.9 0 0 0-134.426 0a310 310 0 0 0-15.135-30.6a1.89 1.89 0 0 0-1.924-.91a483.7 483.7 0 0 0-119.688 37.107a1.7 1.7 0 0 0-.788.676C39.068 183.651 18.186 294.69 28.43 404.354a2.02 2.02 0 0 0 .765 1.375a487.7 487.7 0 0 0 146.825 74.189a1.9 1.9 0 0 0 2.063-.676A348 348 0 0 0 208.12 430.4a1.86 1.86 0 0 0-1.019-2.588a321 321 0 0 1-45.868-21.853a1.885 1.885 0 0 1-.185-3.126a251 251 0 0 0 9.109-7.137a1.82 1.82 0 0 1 1.9-.256c96.229 43.917 200.41 43.917 295.5 0a1.81 1.81 0 0 1 1.924.233a235 235 0 0 0 9.132 7.16a1.884 1.884 0 0 1-.162 3.126a301.4 301.4 0 0 1-45.89 21.83a1.875 1.875 0 0 0-1 2.611a391 391 0 0 0 30.014 48.815a1.86 1.86 0 0 0 2.063.7A486 486 0 0 0 610.7 405.729a1.88 1.88 0 0 0 .765-1.352c12.264-126.783-20.532-236.912-86.934-334.541M222.491 337.58c-28.972 0-52.844-26.587-52.844-59.239s23.409-59.241 52.844-59.241c29.665 0 53.306 26.82 52.843 59.239c0 32.654-23.41 59.241-52.843 59.241m195.38 0c-28.971 0-52.843-26.587-52.843-59.239s23.409-59.241 52.843-59.241c29.667 0 53.307 26.82 52.844 59.239c0 32.654-23.177 59.241-52.844 59.241"></path></svg> </a> <a aria-label="github" href="//github.com/Kruptein/planarally" rel="noopener noreferrer" target="_blank" title="PlanarAlly @ GitHub" data-astro-cid-eyihteuk> <svg viewBox="0 0 496 512" width="1.17em" height="1.2em" data-astro-cid-eyihteuk="true"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6c-3.3.3-5.6-1.3-5.6-3.6c0-2 2.3-3.6 5.2-3.6c3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9c2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9c.3 2 2.9 3.3 5.9 2.6c2.9-.7 4.9-2.6 4.6-4.6c-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2c12.8 2.3 17.3-5.6 17.3-12.1c0-6.2-.3-40.4-.3-61.4c0 0-70 15-84.7-29.8c0 0-11.4-29.1-27.8-36.6c0 0-22.9-15.7 1.6-15.4c0 0 24.9 2 38.6 25.8c21.9 38.6 58.6 27.5 72.9 20.9c2.3-16 8.8-27.1 16-33.7c-55.9-6.2-112.3-14.3-112.3-110.5c0-27.5 7.6-41.3 23.6-58.9c-2.6-6.5-11.1-33.3 2.6-67.9c20.9-6.5 69 27 69 27c20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27c13.7 34.7 5.2 61.4 2.6 67.9c16 17.7 25.8 31.5 25.8 58.9c0 96.5-58.9 104.2-114.8 110.5c9.2 7.9 17 22.9 17 46.4c0 33.7-.3 75.4-.3 83.6c0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252C496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2c1.6 1.6 3.9 2.3 5.2 1c1.3-1 1-3.3-.7-5.2c-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9c1.6 1 3.6.7 4.3-.7c.7-1.3-.3-2.9-2.3-3.9c-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2c2.3 2.3 5.2 2.6 6.5 1c1.3-1.3.7-4.3-1.3-6.2c-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2c-1.4-2.3-4-3.3-5.6-2"></path></svg> </a> </div> </header>   <astro-island uid="1yHqsP" component-url="/guida-docs-en/_astro/HamburgerMenu.DG1aK2d8.js" component-export="default" renderer-url="/guida-docs-en/_astro/client.28a_ayjm.js" props="{&quot;element&quot;:[0,&quot;blog-aside&quot;],&quot;toggleClass&quot;:[0,&quot;open&quot;],&quot;data-astro-cid-6zxym2zu&quot;:[0,true]}" ssr client="only" opts="{&quot;name&quot;:&quot;HamburgerMenu&quot;,&quot;value&quot;:&quot;vue&quot;}"></astro-island> <aside id="blog-aside" data-astro-cid-6zxym2zu> <a href="#virtual-dice" class="depth-2" data-astro-cid-6zxym2zu> Virtual Dice </a><a href="#a-note-on-behaviour" class="depth-4" data-astro-cid-6zxym2zu> A note on behaviour </a><a href="#a-note-on-loading" class="depth-4" data-astro-cid-6zxym2zu> A note on loading </a><a href="#draw-tool-pointer" class="depth-2" data-astro-cid-6zxym2zu> Draw tool pointer </a><a href="#polygon-edit-tools" class="depth-2" data-astro-cid-6zxym2zu> Polygon edit tools </a><a href="#server-admin-cli" class="depth-2" data-astro-cid-6zxym2zu> Server admin CLI </a><a href="#svg-wall-handling" class="depth-2" data-astro-cid-6zxym2zu> SVG wall handling </a><a href="#ui-improvements" class="depth-2" data-astro-cid-6zxym2zu> UI improvements </a><a href="#active-tool-mode" class="depth-3" data-astro-cid-6zxym2zu> active tool-mode </a><a href="#vision-settings" class="depth-3" data-astro-cid-6zxym2zu> vision settings </a><a href="#angle-ui" class="depth-3" data-astro-cid-6zxym2zu> angle UI </a><a href="#variant-switcher" class="depth-3" data-astro-cid-6zxym2zu> variant switcher </a><a href="#fixes" class="depth-4" data-astro-cid-6zxym2zu> Fixes </a><a href="#trackersauras" class="depth-5" data-astro-cid-6zxym2zu> Trackers/Auras </a><a href="#location-changing" class="depth-5" data-astro-cid-6zxym2zu> Location changing </a><a href="#bugfixes" class="depth-2" data-astro-cid-6zxym2zu> Bugfixes </a> </aside> <div id="container" data-astro-cid-6zxym2zu> <main data-astro-cid-6zxym2zu> <h1 id="title" data-astro-cid-6zxym2zu>Rolling gently into fall - Release 0.29.0</h1> <p id="author" data-astro-cid-6zxym2zu>Posted 28 October 2021 by Darragh Van Tichelen</p> <p>It’s been a while, we’ve been long overdue for a new release!
The release is not super big, but does have some fun new tools to play with as well as the usual array of bugfixes.</p>
<h2 id="virtual-dice"><a aria-hidden="true" tabindex="-1" href="#virtual-dice">#</a>Virtual Dice</h2>
<p>A first big thing, is virtual dice rolling!
A word of caution though, the version that ships in this release is not polished yet.
I hope to get some feedback on how things feel to further shape the future of the dice roller.</p>
<p>Rolling dice is available as a dedicated tool in play mode and this for both DM and players.
You can construct a set of dice (currently limited to dX dice) and let them roll on the screen.
The result will appear on screen in a dialog and will also be remembered in the dice tool itself.</p>
<p>You can optionally choose to share dice results with all players, which will show a small notification on their screen when you roll.
(i.e. the dice are not visually rolled on other player’s screens)</p>
<h4 id="a-note-on-behaviour"><a aria-hidden="true" tabindex="-1" href="#a-note-on-behaviour">#</a>A note on behaviour</h4>
<p>The dice are emulated/approximated with a proper physics system. It can happen that PA assumes the die has landed on its final position and show a result and yet have the die roll over one last time. These kinks will be ironed out in the future, if you intend to heavily use this in your campaign, it might be wise to decide upfront which value you treat as the real value</p>
<h4 id="a-note-on-loading"><a aria-hidden="true" tabindex="-1" href="#a-note-on-loading">#</a>A note on loading</h4>
<p>The dice use a full 3D render system (shoutout to babylonjs and ammojs). This brings in a lot of extra code through the dependencies which increases the bundle size greatly and thus the loading time of PA.</p>
<p>To circumvent this, all dice related code is not loaded during the main PA load, but instead deferred until the time you click on the dice tool the first time. This means there might be a small delay the first time you interact with the dice tool.</p>
<h2 id="draw-tool-pointer"><a aria-hidden="true" tabindex="-1" href="#draw-tool-pointer">#</a>Draw tool pointer</h2>
<p>A while ago, the decision was made to no longer show the mouse pointer when using the draw tool as it is never 100% in sync with the PA draw loop causing some visual lagging between the real cursor and the in-game assumed cursor.</p>
<p>Without the out-of-sync cursor, draw operations feel smoother, but it became rather easy to lose track of where on the canvas you actually are. This even more so when you’re drawing in transparent colors or colors very close to the background of the map.</p>
<p>This release re-adds a mouse cursor, not the real OS mouse cursor, but a fake mouse cursor that is just a polygon in PA itself, which as it is a PA shape will always be in sync with the draw loop and thus feel smooth.</p>
<h2 id="polygon-edit-tools"><a aria-hidden="true" tabindex="-1" href="#polygon-edit-tools">#</a>Polygon edit tools</h2>
<p>Since the introduction of polygons a long while back, it’s easily been my most used shape especially for everything lighting/vision related.</p>
<p>Sometimes I forget that a certain wall had a secret door and fixing that in session is kinda hard as you would have to remove the entire wall and redo it, which depending on how long the polygon is, can be a big pain. Or you just shift the character(s) through the wall, which is what I mostly fall back to.</p>
<p>This no longer has to be the case, as I finally added tools to modify existing polygons!</p>
<p>When you select a polygon in build mode, extra UI will appear near the polygon and follow your mouse.
When hovering over an edge, you’ll have the option to either add an extra point to the polygon or split the polygon at that point.
When hovering over a point, you’ll be able to remove the point.</p>
<h2 id="server-admin-cli"><a aria-hidden="true" tabindex="-1" href="#server-admin-cli">#</a>Server admin CLI</h2>
<p><em>This was contributed by CalebKoch</em></p>
<p>The python server has gained some extra utilities to manage the server without having to dive into a python shell.</p>
<p>In particular it can now:</p>
<ul>
<li>list all users</li>
<li>list all rooms (i.e. campaigns)</li>
<li>remove a specific user/room</li>
<li>reset a user’s password</li>
</ul>
<h2 id="svg-wall-handling"><a aria-hidden="true" tabindex="-1" href="#svg-wall-handling">#</a>SVG wall handling</h2>
<p>Since release 0.26.0 it’s been possible to attach wall information in the form of an svg file to pretty much any object in PA, although the primary use case is obviously for maps.
It extracted the path info from the svg and stored it in the options of the shape for quick access.</p>
<p>The old path extraction ignored any potential transforms set on the elements (e.g. translate/scale) and could thus result in sometimes having to flip the svg manually over the y-axis to get the proper result in PA.</p>
<p>A new implementation of the svg handling has been written, which no longer keeps the entire path associated with the asset, but only a reference to the actual svg, which is then parsed separately on the fly, allowing any future improvements to svg handling to also be applied to existing assets.</p>
<p>One such improvement is the support for translate and scale transforms.</p>
<p>Because I didn’t want to break existing svg flows, you’ll have to reapply the svg if you wish to benefit from the new and improved svg handling.</p>
<p>Somewhere in the future I intend to remove the old svg handling code, so I would strongly recommend to reapply all your svg masks that you use or they might stop working in the future (Specifics will be communicated later).</p>
<h2 id="ui-improvements"><a aria-hidden="true" tabindex="-1" href="#ui-improvements">#</a>UI improvements</h2>
<h3 id="active-tool-mode"><a aria-hidden="true" tabindex="-1" href="#active-tool-mode">#</a>active tool-mode</h3>
<p>The last release changed the UI related to the tool modes (i.e. Play and Build).
The distinction between the two has been increased further to make it clear which mode is currently active.</p>
<h3 id="vision-settings"><a aria-hidden="true" tabindex="-1" href="#vision-settings">#</a>vision settings</h3>
<p>It’s no longer possible to configure a max vision range that is smaller than the min vision range and vice versa.</p>
<h3 id="angle-ui"><a aria-hidden="true" tabindex="-1" href="#angle-ui">#</a>angle UI</h3>
<p>Auras usually are full 360 degrees circles, this can however be configured along with a viewing angle to orient the aura in a particular direction.
The UI for the viewing angle now also offers a number input if you want to be more precise or don’t like the circle input element.</p>
<h3 id="variant-switcher"><a aria-hidden="true" tabindex="-1" href="#variant-switcher">#</a>variant switcher</h3>
<p>The variant switcher got disabled with the big vue3 update partly because I felt it was too buggy and not really used by others.</p>
<p>I was apparently very wrong about that last assessment as I got multiple questions about why the variants no longer worked.</p>
<p>My apologies to those, it’s been re-enabled in its original functionality!</p>
<h4 id="fixes"><a aria-hidden="true" tabindex="-1" href="#fixes">#</a>Fixes</h4>
<p>Two bugs were also fixed related to shapes with variants:</p>
<h5 id="trackersauras"><a aria-hidden="true" tabindex="-1" href="#trackersauras">#</a>Trackers/Auras</h5>
<p>The shared tracker/aura logic had some logic issues with inconsistent behaviour as a result.</p>
<p>They should now properly work :)</p>
<p>Additionally when changing variants and the previous variant had (multiple) non-shared auras, some of these would remain on screen, but not move along (i.e. static). This was also resolved.</p>
<h5 id="location-changing"><a aria-hidden="true" tabindex="-1" href="#location-changing">#</a>Location changing</h5>
<p>When moving a shape with variants to another location, only a part of the variants was moved, causing multiple issues all around (including the old location no longer being able to load).</p>
<h2 id="bugfixes"><a aria-hidden="true" tabindex="-1" href="#bugfixes">#</a>Bugfixes</h2>
<ul>
<li>Locked shapes being able to move locations</li>
<li>Locked shapes being able to change floors</li>
<li>vision min range equal to max range bug</li>
<li>Angled auras not rotating with general shape rotation</li>
<li>Multiple styling issues in firefox
<ul>
<li>Annotations no longer fill entire screen width</li>
<li>Aura UI being way to wide</li>
</ul>
</li>
<li>Viewport sync
<ul>
<li>viewport is sent immediately upon connecting (and does not wait for the first pan)</li>
<li>DM viewport move is now throttled and should no longer appear laggy on the client</li>
</ul>
</li>
<li>Various DPI related fixes</li>
<li>Multiple experimental vision mode bugs
<ul>
<li>Fix startup not working correctly</li>
<li>Fix unsnapped move of blocking shape not updating movement triangulation</li>
</ul>
</li>
<li>Movement block not updating directly when not using snapping</li>
<li>Some performance dropoff for big polygons</li>
<li>Remove lingering rotation UI when removing a shape in build mode</li>
<li>Select tool showing ruler without selection</li>
<li>Text resize not live-syncing to other clients</li>
</ul> </main> </div>  </body></html> 